### Перемещение по файловой системе
|Задача|Команда|Пример|Комментарии|
|-|-|-|-|
|отобразить рабочую директорию|`pwd`|||	
|изменить директорию (переместиться)|`cd`|`cd folder`||		
|домашняя директория|`cd ~`||Домашняя директория - не то же самое, что и *root*!|
|назад|`cd -`|||	
|наверх|`cd ..`|||
|отобразить содержимое директории|`ls`|`ls -R -F ~`|`-R` - опция рекурсивного отображения директорий (содержания текущей и всех вложенных);</br>`-F` - опция подсветки папок и приложений</br>`-a` - опция отображения скрытых файлов и директорий (их названия начинаются с `.`)</br>`-A` - отображение скрытых файлов и директорий без указателей текущую папку и папку выше (`.` и `..` соответственно)</br>`-lh` - опция отображения детальной информации о файлах и директориях с удобными единицами измерений (в отличие от простого флага `-l`)</br>`-lS` - опция отображения детальной информации в отсортированном виде (`-lSr` - обратный порядок)|
|поиск содержимого директории|`find`|`find -name "test*" -type f`||
|завершает строку|**TAB**||Если вариантов несколько, то повторное нажатие высветит все варианты|
|Справка по функциям|`man`|`man head`|Зачастую выводит справку в less-формате|
|Отобразить список использованных команд|`history`||Можно использовать в связке с, например, `!3`|
|Повторить команду|`!`|`!head`</br>`!3`|Удобно использовать вместо стрелки вверх для копирования одной из предыдущих команд|
|Прервать выполнение программы|**Ctrl+C**</br>**^C**||||
|Очистить окно терминала|`clear`</br>**Cntrl+l**|||
### Базовые операции над файлами
|Задача|Команда|Пример|Комментарии|
|-|-|-|-|
|Создать файл|`touch`|`touch test-2-2-3.txt`||
||`>`|`> test-20.txt`||
|перемесить файл|`mv`|`mv dag.py ~/airflow/dags`|Переписывает файл, если файл с таким именем существовал. Чтобы такого не происходило, нужно использовать флаг `-i` после `mv`|
|переименовать файл|`mv`|`mv course.txt old-course.txt`|Переписывает файл, если файл с таким именем существовал. Чтобы такого не происходило, нужно использовать флаг `-i` после `mv`|
|копировать файл|`cp`|`cp seasonal/summer.csv backup/summer.bck`|Пример для копирования в другую директорию с переименованием.</br>Переписывает файл, если файл с таким именем существовал. Чтобы такого не происходило, нужно использовать флаг `-i` после `cp`|
|удалить файл|`rm`|`rm -i test-3.txt test-4.txt`|`-i` - удаление с подтверждением|
### Операции над директориями (папками)
|Задача|Команда|Пример|Комментарии|
|-|-|-|-|
|создать директорию|`mkdir`|`mkdir ~/yearly`||
|копировать директорию|`cp -r`|`cp -r cp_15_dir cp_16_dir`|Просто команда `cp` с флагом `-r`, т.к. при копировании содержимого директорий необходимо учитывать рекурсию|
|удалить директорию|`rmdir`||Сперва нужно очистить директорию|
|удалить директорию вместе с содержимым|`rm -r`|`rm -r test-2`|Просто команда `rm` с флагом `-r`|
### Операции над мягкими и жесткими ссылками
|Задача|Команда|Пример|Комментарии|
|-|-|-|-|
|Создание жесткой ссылки|`ln`|`ln test-1.txt hardlink1`|Файлы, по сути, сами являются жесткими ссылками, т.к. и те, и другие ссылаются на конкретный фрагмент на жестком диске|
|Создание мягкой ссылки|`ln -s`|`ln -s test-1.txt link-1`|В имени файла, для которого создается ссылка, лучше использовать абсолютный путь, иначе ссылка перестает работать при ее перемещении|
### Чтение файлов
|Задача|Команда|Пример|Комментарии|
|-|-|-|-|
|открыть файл|`cat`|||
||`less`|`less seasonal/spring.csv seasonal/summer.csv`|**Один файл**:</br>пробел - прокрутить</br>`q` - выход</br>**Несколько файлов**:</br>`:n` - перейти к следующему файлу</br>`:p`  - перейти к предыдущему файлу</br>`:q` - выход|
|Посмотреть начало файла|`head`|`head -n 3 seasonal/summer.csv`|`-n` число - сколько строк отобразить.</br>По умолчанию (без `-n`) - 10|
|Посмотреть определенные столбцы|`cut`|`cut -f 2-5, 8 -d , everyone.csv`|`-f` - выбирает столбцы (счет начинается с единицы)</br>`-d` - указывает разделитель столбцов (в примере - запятая)|
|Аналог LIKE|`grep`|`grep -n -v molar seasonal/spring.csv`</br>`grep -c incisor seasonal/autumn.csv seasonal/winter.csv`|У него дохрена опций - нужно смотреть мануал|
||`egrep`|`egrep 'Sydney Carton \| Charles Darnay'`|Если нужно найти одно из двух. Аналог:</br>`grep -E 'Sydney Carton \| Charles Darnay'`</br>или</br>`grep 'Sydney Carton \\| Charles Darnay'`|
|Сохранить результат в файл|`>`|`head -n 5 seasonal/summer.csv > top.csv`|Полностью заменяет содержимое файла!|
|Добавить результат в файл|`>>`|`head -n 5 seasonal/summer.csv >> top.csv`|Дописывает агрумент к содержимому файла|
|pipe|`\|`|`head -n 5 seasonal/summer.csv \| tail -n 3`|Выполняет второй запрос из результата первого|
|Счетчик|`wc`|`grep 2017-07 seasonal/spring.csv \| wc -l`|Опции `-c`, `-w`, `-l` - для подсчета, соответственно, characters, words, and lines|
|Wildcards (регулярки)|`*`</br>`?`|`head -n 3 seasonal/*.csv	`|`*` - много символов</br>`?` - один символ</br>`[...]` - один из символов в скобках</br>`{...}` matches any of the comma-separated patterns inside the curly brackets, so {*.txt, *.csv} matches any file whose name ends with .txt or .csv, but not files whose names end with .pdf|
|Сортировка|`sort`||`-n` - numerical</br>`-r` - reverse</br>и т.д.|
|Убрать дубли|`uniq`|`uniq -c`|Убирает только те дубли, что находятся по соседству друг с другом (нужно делать sort перед ним)</br>`-c` - считает количество упоминаний каждого уникального значения|
### Прочее
|Задача|Команда|Пример|Комментарии|
|-|-|-|-|
|Вывод на печать|`echo`|`echo $OSTYPE`|||
|Создание внутренней переменной||`testing=seasonal/winter.csv`|Потом можно использовать, например, в `head -n 1 $testing`|
|Цикл||`for filetype in gif jpg png; do echo $filetype; done`</br>`for f in $files; do echo $f; done`||	
|Редактировать файл|`nano`|`nano filename`|Создает файл, если файла с таким имененм не было.</br>**Ctrl + K**: delete a line</br>**Ctrl + U**: un-delete a line</br>**Ctrl + O**: save the file (*O* stands for *output*). You will also need to press Enter to confirm the filename!</br>**Ctrl + X**: exit the editor|
|Запустить скрипт|`bash`|`bash headers.sh`</br>`bash count-records.sh seasonal/*.csv`|Можно передавать названия файлов, которые заменят `$@` в скрипте|
|Пример скрипта||<pre># Print the first and last data records of each file.</br>for filename in $@</br>do</br>    head -n 2 $filename \| tail -n 1</br>    tail -n 1 $filename</br>done</pre>||
|Разархивировать|`unzip`|`unzip SpotifyData.zip`||
|Скачать файл|`curl`|`curl -O https://websitename.com/datafilename[001-100:10].txt`|`-o` - скачать, указав имя|
|Скачать файл|`wget`|`wget --wait=1 -i url_list.txt`</br>`wget --limit-rate=2500k -i url_list.txt`||	
|Выполнить вторую команду в том случае, если первая завершилась успешно|`&&`|`csvlook Spotify_Popularity.csv && csvstat Spotify_Popularity.csv`||
|Заменить значения в файле, не открывая его|`sed`|`sed 's/Cherno/Cherno City/g'`|*s/что_заменять/на_что_заменять/опции* - замена символов, поддерживаются регулярные выражения;</br>`g` - заменить содержимое буфера шаблона, содержимым дополнительного буфера|
|Изменить промпт|`>> ~/.bashrc`|`echo "export PS1=my-linux: " >> ~/.bashrc`||
### Управление пользователями
|Задача|Команда|Пример|Комментарии|
|-|-|-|-|
|Вывести имя текущего пользователя|`whoami`|||
|Сменить пользователя|`su`|`su another_user`||
|Добавить пользователя|`sudo useradd`|`sudo useradd -m slurm2`|`-m` - создание пользователя с домашней директорией|
|Добавить пароль для пользователя|`sudo passwd`|`sudo passwd slurm4`||
|Удалить пользователя|`sudo userdel`|`sudo userdel -r slurm2`|`-r` - удалить вместе с домашней директорией|
|Посмотреть список пользователей|`cut -d: -f1 /etc/passwd`|||
|Посмотреть список групп|`getent group`|`getent group`|По умолчанию, для каждого пользователя создается одноименная главная группа|
|Посмотреть состав группы|`getent group`|`getent group lawyers`||
|Добавить группу|`sudo groupadd`|`sudo groupadd lawyers`||
|Добавить пользователя в группу|`sudo usermod -aG`|`sudo usermod -aG lawyers kirill`</br>`sudo usermod -a -G lawyers ilya`||
|Исключить пользователя из группы|`sudo gpasswd --delete`|`sudo gpasswd --delete ilya lawyers`||
|Узнать, в каких группах состоит пользователь|`groups`|`groups pavel`||
### Управление правами пользователей
|Задача|Команда|Пример|Комментарии|
|-|-|-|-|
|Изменить владельца файла/директории|`sudo chown`|`sudo chown pavel test-1.sh`</br>`sudo chown pavel:principals test-1.sh`|- меняет владельца-пользователя</br>- меняет владельца-группу|
|Изменение прав на файл/директорию|`sudo chmod`|`sudo chmod 700 test-2.sh`</br>`sudo chmod g=r doc1`</br>`sudo chmod o-r doc1`</br>`sudo chmod +x run_it.sh`|`700` равнозначно `11100000`, или `rwx------`</br>`g=r` означает *группа сможет только читать файл*</br>`o-r` означает *у других отбираются права на чтение*</br>`+x`, или `a+x`, означает *всем выдаются права на выполнение*|
### Работа с переменными окружения
|Задача|Команда|Пример|Комментарии|
|-|-|-|-|
|Вывести список текущих переменных|`env`|||
|Вывести переменную|`echo`|`echo $USER`||
|Изменить значение переменной до конца сессии|`export`|`export WHO=torvalds`||
|Добавить файл в PATH|`export PATH=$PATH:`|`export PATH=$PATH:/home/$USER/env_dir_2`|Позволяет обращаться к файлам в указанной директории просто по имени|
### Управление компьютером и "железом"
|Задача|Команда|Пример|Комментарии|
|-|-|-|-|
|Выключить компьютер|`sudo halt`</br>`sudo shutdown -h now`|||
|Перезагрузить|`sudo reboot`|||
### Сеть
|Задача|Команда|Пример|Комментарии|
|-|-|-|-|
|Узнать свой ip|`hostname -I`</br>`ifconfig -a`|||
|Проверка интернет-соединения|`ping`</br>`curl`|`ping -c 3 google.com`</br>`curl -l https://linuxhint.com`||